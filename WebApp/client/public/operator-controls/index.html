<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Operator Dashboard</title>

  <!-- Bootstrap CSS -->
  <link href="../css/style.css" rel="stylesheet">

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
</head>

<body>
  <!-- Title -->
  <div class="container mb-2">
    <h1 class="display-5 border-bottom text-white d-inline-block w-100">Operator Dashboard
      <button id="logout" class="btn border-0 m-0" data-bs-toggle="modal" data-bs-target="#signout-modal"><i class="bi bi-box-arrow-right"></i></button>
      <button id="stream-settings" class="btn border-0 m-0" data-bs-toggle="modal" data-bs-target="#stream-pref-modal"><i class="bi bi-gear-fill"></i></button>
      <button id="reset-to-default" class="btn border-0 m-0" data-bs-toggle="modal" data-bs-target="#reset-modal"><i class="bi bi-bootstrap-reboot"></i></i></button>
    </h1>

    <!-- Alert svgs -->
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
        <path
          d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
      </symbol>
      <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
        <path
          d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
      </symbol>
      <symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
      </symbol>
    </svg>

    <!-- Logout Modal -->
    <div class="modal fade" id="signout-modal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Log Out</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>Are you sure you want to sign out?</p>
          </div>
          <div class="modal-footer">
            <form action="/signout" method="get">
              <input type="submit" class="btn btn-secondary" value="Leave"></input>
            </form>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Stay</button>

          </div>
        </div>
      </div>
    </div>

    <!-- Reset settings to default -->
    <div class="modal fade" id="reset-modal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Reset Settings</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>Are you sure you want to reset settings? <b>Note:</b> This will erase all uploaded media.</p>
          </div>
          <div class="modal-footer">
            <button id="resetAppSettings" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Reset</button>
          </div>
        </div>
      </div>
    </div>

    <!-- rename modal -->
    <div class="modal fade" id="rename-modal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Rename Participant</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <label for="participant-rename-name">Name</label>
            <input id="participant-rename-name" type="text" class="form-control">
            <label for="participant-rename-title">Title</label>
            <input id="participant-rename-title" type="text" class="form-control">
          </div>
          <div class="modal-footer">
            <button id="rename-btn" class="btn btn-secondary" type="button" data-bs-dismiss="modal">Rename</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <!-- StreamPref Modal -->
    <div class="modal fade" id="stream-pref-modal" tabindex="-1" aria-labelledby="stream-pref-label" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="stream-pref-label">Settings</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>

          <!-- Modal Body -->
          <div class="modal-body">
            <fieldset id="stream-settings-fieldset" class="d-none">

              <div id="success-alert" class="alert alert-success d-none fade show align-items-center" role="alert">
                <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img">
                  <use xlink:href="#check-circle-fill" />
                </svg>
                <div>
                  <strong>Success!</strong> Streaming Url: <span id="url-span"></span>
                </div>
              </div>
              <div id="error-alert" class="alert alert-warning d-none align-items-center" role="alert">
                <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Warning:">
                  <use xlink:href="#exclamation-triangle-fill" />
                </svg>
                <div>
                  <strong>Failed!</strong> Error: <span id="err-span"></span>
                </div>
              </div>

              <h6>Stream Info</h6>
              <!-- stream server dropdown -->
              <div class="form-floating">
                <select class="form-select" id="serverAddressSelect">
                  <option selected value="none">None Selected</option>
                  <option value="wz5a">wz5a</option>
                  <option value="wz5b">wz5b</option>
                  <option value="wz6a">wz6a</option>
                  <option value="wz6b">wz6b</option>
                  <option value="wz8">wz8</option>
                </select>
                <label for="serverAddressSelect">Streaming Server Address</label>
              </div>

              <!-- stream application dropdown -->
              <div class="form-floating">
                <select class="form-select" id="serverAppSelect">
                  <option selected value="none">None Selected</option>
                  <option value="training">training</option>
                  <option value="preshow">preshow</option>
                  <option value="live">live</option>
                </select>
                <label for="serverAppSelect">Streaming Application</label>
              </div>

              <!-- stream key input div -->
              <div class="form-floating">
                <input type="text" class="form-control streamInput" id="stream-key-input" placeholder="Stream Key">
                <label for="stream-key-input">Stream Key</label>
              </div>

              <h6>Authentication Info</h6>
              <!-- stream username -->
              <div class="form-floating">
                <input type="text" class="form-control streamInput" id="username-input" placeholder="Username"
                  value="encoder_eagleeye">
                <label for="username-input">Username</label>
              </div>
              <!-- stream user password -->
              <div class="form-floating">
                <input type="password" class="form-control streamInput" id="password-input" placeholder="Password">
                <label for="password-input">Password</label>
              </div>
            </fieldset>

            <!-- clipboard to copy url -->
            <div class="card card-bordered">
              <div class="card-body">
                <div class="d-flex align-items-center flex-wrap">
                  <div id="kt_clipboard_4" class="me-5"></div>
                  <button id="clip" class="btn btn-icon btn-sm btn-light" data-clipboard-target="#kt_clipboard_4">
                    <span class="svg-icon svg-icon-2">
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path opacity="0.5"
                          d="M18 2H9C7.34315 2 6 3.34315 6 5H8C8 4.44772 8.44772 4 9 4H18C18.5523 4 19 4.44772 19 5V16C19 16.5523 18.5523 17 18 17V19C19.6569 19 21 17.6569 21 16V5C21 3.34315 19.6569 2 18 2Z"
                          fill="currentColor"></path>
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M14.7857 7.125H6.21429C5.62255 7.125 5.14286 7.6007 5.14286 8.1875V18.8125C5.14286 19.3993 5.62255 19.875 6.21429 19.875H14.7857C15.3774 19.875 15.8571 19.3993 15.8571 18.8125V8.1875C15.8571 7.6007 15.3774 7.125 14.7857 7.125ZM6.21429 5C4.43908 5 3 6.42709 3 8.1875V18.8125C3 20.5729 4.43909 22 6.21429 22H14.7857C16.5609 22 18 20.5729 18 18.8125V8.1875C18 6.42709 16.5609 5 14.7857 5H6.21429Z"
                          fill="currentColor"></path>
                      </svg>
                    </span>
                  </button>
                </div>
              </div>
            </div>

          </div>
          <div class="modal-footer d-inline-block">
            <div class="form-check form-switch mt-2" style="float: left;">
              <input class="form-check-input" type="checkbox" role="switch" id="advancedSettingsToggle">
              <label class="form-check-label" for="advancedSettingsToggle">Advanced Settings</label>
            </div>
            <button type="button" class="btn btn-secondary float-end" data-bs-dismiss="modal">Close</button>
            <button type="button" id="save-btn" class="btn btn-secondary float-end">Save changes</button>
          </div>
        </div>
      </div>
    </div>

    <div id="general-status-bar">
      Status Unknown.
    </div>
  </div>

  <!-- Video Players for Unity Render Streaming -->
  <div id="video-players" class="container-fluid text-center">
    <!-- Play button element and full screen button element will be added here -->
    <div class="row gx-0">
      <div class="col">
        <div id="preview-video-container" class="video-container">
          <!-- Video element will be generated and placed here -->
          <!-- Draggable participant control -->
          <div id="participant-on-vid-ctrl-og" class="participant-on-vid-ctrl d-none">
            <div class="participant-on-vid-drag" draggable="true"></div>

            <!-- Preview side action menu -->
            <button id="" class="participant-on-vid-options dropdown" type="button" data-bs-toggle="dropdown"
              aria-expanded="false"></button>
            <ul class="dropdown-menu">
              <li><a target="action-rename" class="dropdown-item" href="#" data-bs-toggle="modal"
                  data-bs-target="#rename-modal">Rename</a></li>
              <li><a target="action-show-lt" class="dropdown-item" href="#">Show/Hide lower third</a></li>
            </ul>

            <div class="participant-on-vid-mute"></div>
            <div class="participant-on-vid-eye"></div>
            <div class="participant-on-vid-ear"></div>
          </div>

        </div>
      </div>
      <div class="col">
        <div id="output-video-container" class="video-container">
          <!-- Video element will be generated and placed here -->
        </div>
      </div>
    </div>
  </div>

  <!-- Stream control buttons -->
  <div class="container d-flex btn-group w-100 mt-2">
    <button id="pending-btn" class="btn btn-lg btn-outline-primary text-black">Start Stream</button>
    <button id="live-btn" class="btn btn-lg btn-outline-primary text-black">Live</button>
    <button id="technical-diff-btn" class="btn btn-lg btn-outline-primary text-black">Technical Difficulty</button>
    <button id="archive-btn" class="btn btn-lg btn-outline-primary text-black">Conclusion Slide</button>
  </div>

  <!-- Operator Control Tabs -->
  <div class="container mt-4">
    <nav>
      <div class="nav nav-tabs" id="nav-tab" role="tablist">
        <button class="nav-link active" id="nav-zoom-tab" data-bs-toggle="tab" data-bs-target="#nav-zoom" type="button"
          role="tab" aria-controls="nav-zoom" aria-selected="true">Zoom
        </button>
        <button class="nav-link" id="nav-participants-tab" data-bs-toggle="tab" data-bs-target="#nav-participants"
          type="button" role="tab" aria-controls="nav-participants" aria-selected="false">Participants
        </button>
        <button class="nav-link d-none" id="nav-layout-tab" data-bs-toggle="tab" data-bs-target="#nav-layout" type="button"
          role="tab" aria-controls="nav-layout" aria-selected="false">Layout
        </button>
        <button class="nav-link" id="nav-slide-tab" data-bs-toggle="tab" data-bs-target="#nav-slide" type="button"
          role="tab" aria-controls="nav-slide" aria-selected="false">Slides
        </button>
        <button class="nav-link" id="nav-music-tab" data-bs-toggle="tab" data-bs-target="#nav-music" type="button"
          role="tab" aria-controls="nav-music" aria-selected="false">Music
        </button>
        <button class="nav-link" id="nav-video-tab" data-bs-toggle="tab" data-bs-target="#nav-video" type="button"
          role="tab" aria-controls="nav-video" aria-selected="false">Video
        </button>
        <button class="nav-link d-none" id="nav-log-tab" data-bs-toggle="tab" data-bs-target="#nav-log" type="button"
          role="tab" aria-controls="nav-log" aria-selected="false">Log
        </button>
        <button class="nav-link" id="nav-upload-tab" data-bs-toggle="tab" data-bs-target="#nav-upload" type="button"
          role="tab" aria-controls="nav-upload" aria-selected="false">Upload
        </button>
        <button class="nav-link" id="nav-recording-tab" data-bs-toggle="tab" data-bs-target="#nav-recording"
          type="button" role="tab" aria-controls="nav-recording" aria-selected="false">Recording(s)
        </button>
        <button class="nav-link" id="nav-config-tab" data-bs-toggle="tab" data-bs-target="#nav-config"
                type="button" role="tab" aria-controls="nav-config" aria-selected="false">Configuration
        </button>
      </div>
    </nav>
    <div class="tab-content" id="nav-tabContent">
      <!-- Zoom controls -->
      <div class="tab-pane fade show active" id="nav-zoom" role="tabpanel" aria-labelledby="nav-zoom-tab">
        <fieldset>
          <legend class="title text-white mt-2">Meeting Info</legend>
            <fieldset id="meeting-number-input-field" class="mb-2">
              <input id="meeting-number-input" type="text" class="form-control mb-1" placeholder="Meeting ID" aria-label="Meeting number">
              <input id="meeting-password-input" type="text" class="form-control" placeholder="Password" aria-label="Meeting password">
            </fieldset>
            <button id="join-meeting-btn" class="btn btn-primary" type="button">Join</button>
            <button id="leave-meeting-btn" class="btn btn-primary" type="button">Leave</button>
          <legend class="title text-white mt-2">Zoom Controls</legend>
          <fieldset>
            <button id="leave-voip-btn" class="btn btn-primary" type="button">Leave VOIP</button>
            <div id="leave-voip-result" class="bg-secondary"></div>
          </fieldset>
        </fieldset>
      </div>
      <!-- Participant controls -->
      <div class="tab-pane fade" id="nav-participants" role="tabpanel" aria-labelledby="nav-participants-tab">
        <fieldset id="participant-fieldset">
          <legend class="title text-white mt-2">Participants</legend>
          <div class="btn-group w-50" role="group" aria-label="Show/Hide all lower thirds.">
            <button id="show-all-lower-thirds-btn" type="button" class="btn btn-secondary">Show all lower
              thirds</button>
            <button id="hide-all-lower-thirds-btn" type="button" class="btn btn-secondary">Hide all lower
              thirds</button>
          </div>
          <div id="participant-autoshow-btn-grp" class="btn-group d-none w-50 mt-2" role="group" aria-label="Enable/Disable Autoshow all participants.">
            <button id="enable-autoshow-btn" type="button" class="btn btn-secondary">Enable Auto Show</button>
            <button id="disable-autoshow-btn" type="button" class="btn btn-secondary">Disable Auto Show</button>
          </div>
          <div class="btn-group w-50 mt-2 mb-2" role="group" aria-label="Show/Hide select participants.">
            <button id="check-uncheck-all-ppt-btn" type="button" class="btn btn-secondary">Select All</button>
            <button id="show-select-ppt-btn" type="button" class="btn btn-secondary">Show Participants</button>
            <button id="hide-select-ppt-btn" type="button" class="btn btn-secondary">Hide Participants</button>
            <button id="mute-select-ppt-btn" type="button" class="btn btn-secondary">Mute Participants</button>
            <button id="unmute-select-ppt-btn" type="button" class="btn btn-secondary">Unmute Participants</button>
          </div>
          <!-- Single participant control element. Will be cloned for each participant -->
          <div id="participant-input-group" class="input-group">

            <div class="check-box-centered">
              <input id="checked-participant" class="check" type="checkbox" name="checked-participant"> </input>
            </div>

            <span class="input-group-text" draggable="true"><i class="bi bi-grip-vertical"></i></span>
            <span class="input-group-text name-span" style="flex-grow: 1">Name & Title</span>
            <button class="btn btn-secondary rename-btn" aria-label="Participant's name" data-bs-toggle="modal" data-bs-target="#rename-modal"><i class="bi bi-pencil"></i></button>
            <button class="btn btn-secondary visibility-btn" type="button"><i class="bi bi-eye"></i></button>
            <button class="btn btn-secondary audibility-btn" type="button"><i class="bi bi-ear"></i></button>
            <button class="btn btn-secondary show-lower-third-btn" type="button"><i class="bi bi-type"></i></button>
          </div>
        </fieldset>
      </div>
      <!-- Layout controls -->
      <div class="tab-pane fade" id="nav-layout" role="tabpanel" aria-labelledby="nav-layout-tab">
        <fieldset id="layout-fieldset">
          <legend class="title text-white mt-2">Layout controls</legend>
          <button id="layout-btn" class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown"
            aria-expanded="false">
            Layout
          </button>
          <!-- Layout dropdown menu -->
          <ul id="layout-dropdown" class="dropdown-menu" aria-labelledby="layout-btn">
            <li value="0"><a class="dropdown-item">Videos Only</a></li>
            <li value="1"><a class="dropdown-item">Screen Share - Videos Left</a></li>
            <li value="2"><a class="dropdown-item">Screen Share - Videos Right</a></li>
            <li value="3"><a class="dropdown-item">Screen Share - Videos Top</a></li>
            <li value="4"><a class="dropdown-item">Screen Share - Videos Bottom</a></li>
            <li value="5"><a class="dropdown-item">Screen Share Only</a></li>
          </ul>
          <!-- Text size dropdown menu -->
          <button id="text-size-btn" class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown"
            aria-expanded="false">
            Text Size
          </button>
          <ul id="text-size-dropdown" class="dropdown-menu" aria-labelledby="text-size-btn">
            <li value="0"><a class="dropdown-item">Large</a></li>
            <li value="1"><a class="dropdown-item">Medium</a></li>
            <li value="2"><a class="dropdown-item">Small</a></li>
            <li value="3"><a class="dropdown-item">Hidden</a></li>
          </ul>
          <!-- Lower thirds style dropdown menu -->
          <button id="lower-thirds-style-btn" class="btn btn-secondary dropdown-toggle" type="button"
            data-bs-toggle="dropdown" aria-expanded="false">
            Lower Thirds Style
          </button>
          <ul id="lower-thirds-style-dropdown" class="dropdown-menu" aria-labelledby="lower-thirds-style-btn">
            <li value="0"><a class="dropdown-item">Staggered</a></li>
            <li value="1"><a class="dropdown-item">Classic Zoom</a></li>
          </ul>
          <legend class="title text-white mt-2">Style Editing</legend>
          <select id="edit-style-select" class="form-select" aria-label="Slide select">
            <optgroup label="Lower Thirds">
              <option selected value="1">Plain Zoom</option>
              <option value="2">Staggered</option>
            </optgroup>
            <optgroup label="Layouts">
              <option selected value="1">Simple</option>
              <option value="2">Screen Share Horizontal</option>
              <option value="3">Screen Share Vertical</option>
              <option value="4">Full Screen Share</option>
            </optgroup>
          </select>
          <div id="layout-schema-editor">

          </div>
        </fieldset>
      </div>
      <!-- Slide controls -->
      <div class="tab-pane fade" id="nav-slide" role="tabpanel" aria-labelledby="nav-slide-tab">
        <fieldset id="slide-fieldset">
          <legend class="title text-white mt-2">Slide controls</legend>

          <div class="btn-group d-flex w-100 mt-2">
            <button id= "intro-preview" type="button" class="btn btn-primary"><span class="bg-dark text-light p-1">Intro</span></button>
            <button id= "techdiff-preview" type="button" class="btn btn-primary"><span class="bg-dark text-light p-1">Technical Difficulty</span></button>
            <button id= "conc-preview" type="button" class="btn btn-primary"><span class="bg-dark text-light p-1">Conclusion</span></button>
            <button id="slide-clear-btn" type="button" class="btn btn-primary">Live</button>
          </div>

          <legend class="title text-white border-top mt-2">Custom Slides</legend>
          <div id="slide-btn-container" class="container overflow-auto overflow-div d-flex flex-wrap rounded w-60 mt-2">
            <!-- Single slide control element. Will be cloned for each slide -->
            <div id="slide-btn-element" class="media-btn-element flex-column m-1">
              <span class="media-btn-label" >Switch</span>
              <img src="..." alt="..." class="media-switch-thumb rounded">
              <button class="media-set-as-btn btn btn-primary rounded-pill" type="button" data-bs-toggle="dropdown">
                <i class="bi bi-three-dots"></i>
              </button>
              <ul class="dropdown-menu">
                 Set As
                <li><a target="action-set-as-intro" class="dropdown-item">Intro</a></li>
                <li><a target="action-set-as-techdiff" class="dropdown-item">Technical Difficulty</a></li>
                <li><a target="action-set-as-conclusion" class="dropdown-item">Conclusion</a></li>
              </ul>
              <button class="media-delete-btn btn btn-danger rounded-pill" type="button">
                <i class="bi bi-trash"></i>
              </button>
              <button class="media-left-btn btn btn-secondary"><i class="bi bi-volume-up"></i></button>
              <button class="media-right-btn btn btn-secondary"><i class="bi bi-volume-mute"></i></button>
            </div>
          </div>
        </fieldset>
      </div>
      <!-- Hold Music controls -->
      <div class="tab-pane fade" id="nav-music" role="tabpanel" aria-labelledby="nav-music-tab">
        <fieldset id="music-fieldset">
          <legend class="title text-white mt-2">Music Controls</legend>
          <!-- Play/stop button and volume control -->
          <div class="d-flex w-100 gap-5 mb-3">
            <button id="music-play-stop-btn" type="button" class="btn btn-secondary m-1"><i class="bi bi-play"></i></button>
            <div class="input-group w-75">
              <div class="input-group-prepend">
                <label class="text-white" for="music-progress">Progress</label>
              </div>
              <input type="range" class="custom-range w-100" min="0" id="music-progress">
              <span id="music-playback-time" class="text-white">00:00:00</span>
            </div>
            <div class="input-group w-25">
              <div class="input-group-prepend">
                <label class="text-white" for="volume-range-music">Volume</label>
              </div>
              <input type="range" class="custom-range w-100" min="0" max="1" step="0.01" id="volume-range-music">
              <span id="music-volume-level" class="text-white"></span>
            </div>
          </div>
          <!-- Library and Playlist -->
          <legend class="title text-white border-top mt-2">Music</legend>
          <div class="container">
            <div class="row gap-2 ">
              <div class="col-sm bg-dark rounded">
                <h6 class="text-white m-0 p-1">Library</h6>
                <div id="library" class="overflow-auto overflow-div p-1">
                    <div id="track-in-library" class="input-group flex-nowrap mb-1">
                      <div class="input-group-text flex-grow-1 overflow-hidden bg-secondary text-white border-0">
                        <span class="track-title">Track title goes here.</span>
                      </div>
                      <button class="btn btn-secondary add-track-btn"><i class="bi bi-plus"></i></button>
                      <button class="btn btn-danger media-delete-btn"><i class="bi bi-trash"></i></button>
                    </div>
                </div>
              </div>
              <div class="col-sm bg-dark rounded">
                <h6 class="text-white m-0 mb-1 p-1">Currently Playing</h6>
                <div class="input-group flex-nowrap mb-1">
                  <div class="input-group-text flex-grow-1 overflow-hidden bg-secondary text-info border-0">
                    <span id="currently-playing-track">Currently playing track goes here.</span>
                  </div>
                  <div class="input-group-text flex-grow-1 overflow-hidden bg-secondary text-info border-0">
                    <span id="currently-playing-track-time" class="float-end">00:00:00</span>
                  </div>
                </div>
                <h6 class="text-white m-0 mt-1 p-1">Playlist</h6>
                <div id="playlist" class="bg-dark p-1 rounded overflow-auto overflow-div">
                  <div id="track-in-playlist" class="input-group flex-nowrap mb-1">
                    <div class="input-group-text flex-grow-1 overflow-hidden bg-secondary text-white border-0">
                      <span class="track-title">Track title goes here.</span>
                    </div>
                    <button class="btn btn-secondary remove-track-btn"><i class="bi bi-dash"></i></button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="preview-music"class="border-top mt-2">
            <legend class="title text-white">Preview</legend>
            <div class="d-flex m-0 w-100">
              <select id="hold-music-select" class="form-select w-50" aria-label="Hold music select">
                <!-- <option value="" selected disabled> Selected Track to Preview</option> -->
                <optgroup id="hold-music-options-group" label="Music">
                  <!-- Options will be generated from code -->
                </optgroup>
              </select>
              <!-- Preview of audio on server -->
              <div id="hold-music-container" class="d-flex justify-content-center w-50"><audio id="hold-music-audio" src="..." controls></audio></div>
            </div>
          </div>
        </fieldset>
      </div>
      <!-- Video controls -->
      <div class="tab-pane fade" id="nav-video" role="tabpanel" aria-labelledby="nav-video-tab">
        <fieldset id="video-fieldset">
          <legend class="title text-white mt-2">Video controls</legend>
          <fieldset id="video-fieldset-bar">
            <!-- Video controls bar -->
            <div class="d-flex w-100 gap-5 mb-3">
              <button id="video-play-stop-btn" type="button" class="btn btn-secondary"><i class="bi bi-play"></i></button>

              <div class="input-group w-75">
                <div class="input-group-prepend">
                  <label class="text-white" for="video-progress">Progress</label>
                </div>
                <input type="range" class="custom-range w-100" min="0" id="video-progress">
                <span id="video-playback-time" class="text-white">00:00:00</span>
              </div>

              <div class="input-group w-25">
                <div class="input-group-prepend">
                  <label class="text-white" for="volume-range-video">Volume</label>
                </div>
                <input type="range" class="custom-range w-100" min="0" max="1" step="0.01" id="volume-range-video">
                <span id="video-volume-level" class="text-white"></span>
              </div>
              <button id="video-clear-btn" type="button" class="btn" data-toggle="tooltip" data-placement="top" title="Clears Output" data-delay-show="0">Live</button> <!-- Clear button -->
            </div>
          </fieldset>

          <legend class="title text-white border-top mt-2">Videos</legend>
          <div id="video-btn-container" class="container overflow-auto overflow-div d-flex flex-wrap rounded w-60 mt-2">
            <!-- Single video control element. Will be cloned for each video file -->
            <div id="video-btn-element" class="media-btn-element flex-column m-1">
              <span class="media-btn-label">Switch</span>
              <img src="..." alt="..." class="media-switch-thumb rounded">
              <button class="media-set-as-btn btn btn-primary rounded-pill" type="button" data-bs-toggle="dropdown">
                <i class="bi bi-three-dots"></i>
              </button>
              <ul class="dropdown-menu">
                Set As
                <li><a target="action-set-as-intro" class="dropdown-item">Intro</a></li>
                <li><a target="action-set-as-techdiff" class="dropdown-item">Technical Difficulty</a></li>
                <li><a target="action-set-as-conclusion" class="dropdown-item">Conclusion</a></li>
              </ul>
              <button class="media-delete-btn btn btn-danger rounded-pill" type="button"><i
                  class="bi bi-trash"></i></button>
              <button class="media-left-btn btn btn-secondary" type="button"><i class="bi bi-volume-up"></i></button>
              <button class="media-right-btn btn btn-secondary" type="button"><i class="bi bi-volume-mute"></i></button>
            </div>

          </div>

            <!-- Video Browsing -->
            <div id="preview-videos" class="border-top mt-2" role="tabpanel" aria-labelledby="nav-browse-videos-tab">
              <legend class="title text-white">Preview</legend>
              <select id="video-select" class="form-select mb-2" aria-label="Video select">
                <!-- <option value="" selected disabled> Selected Video to Preview</option> -->
                <optgroup id="video-option-group" label="Videos">
                  <!-- Options will be generated from code -->
                </optgroup>
              </select>
              <!-- Preview of video on server -->
              <div id="video-container"><video id="video" src="..." controls></video></div>
            </div>

        </fieldset>
      </div>
      <!-- Log controls -->
      <div class="tab-pane fade" id="nav-log" role="tabpanel" aria-labelledby="nav-log-tab">
        <fieldset>
          <legend class="title text-white mt-2">Log</legend>
          <div id="error-alert-log-file" class="alert alert-danger d-none" role="alert">
            <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Warning:">
              <use xlink:href="#exclamation-triangle-fill" />
            </svg>
            <strong>Please select a file from the options below.</strong>
          </div>
          <div id="message-div" class="lead"></div>
          <div id="log-div" class="overflow-auto p-3 bg-light overflow-div rounded"></div>

          <div class="input-group mt-2 w-50">
            <select id="list-all-log-files" class="form-control form-select" required>
              <option selected value="none">None Selected</option>
            </select>
            <button id="log-download-btn" class="btn btn-secondary" type="button">Download Log</button>
          </div>
        </fieldset>
      </div>
      <!-- Upload controls -->
      <div class="tab-pane fade" id="nav-upload" role="tabpanel" aria-labelledby="nav-upload-tab">
        <fieldset>
          <legend class="title text-white mt-2">Upload</legend>
          <div id="upload-success-alert" class="alert alert-success d-none fade show align-items-center w-50 mx-auto" role="alert">
            <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img">
              <use xlink:href="#check-circle-fill" />
            </svg>
            <div>
              <strong>Upload Complete!</strong>
            </div>
          </div>
          <!-- Descriptor of action performed on files -->
          <div id="slide-upload-descriptor" class="text-white">Click browse to look for files to upload.</div>
          <button id="edit-slide-btn" class="btn btn-primary mb-2" type="button" data-bs-toggle="modal"
            data-bs-target="#edit-slide-modal">Assign before upload
          </button>
          <!-- Modal to edit slide -->
          <div class="modal fade" id="edit-slide-modal" tabindex="-1" aria-labelledby="edit-slide-modal-label"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="edit-slide-modal-label">Edit slide assignment</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <!-- Change slide that will be used for intro type -->
                  <h6>Intro slide</h6>
                  <select data-type="intro" id="intro-slide-type-select" class="form-select mb-2"
                    aria-label="Slide type">
                    <option>No slide selected. Slide will not update.</option>
                    <!-- Further options will be generated -->
                  </select>
                  <!-- Change slide that will be used for technicalDifficulty type -->
                  <h6>Tech difficulty slide</h6>
                  <select data-type="technicalDifficulty" id="technical-difficulty-slide-type-select"
                    class="form-select mb-2" aria-label="Slide type">
                    <option>No slide selected. Slide will not update.</option>
                    <!-- Further options will be generated -->
                  </select>
                  <!-- Change slide that will be used for conclusion type -->
                  <h6>Conclusion slide</h6>
                  <select data-type="conclusion" id="conclusion-slide-type-select" class="form-select mb-2"
                    aria-label="Slide type">
                    <option>No slide selected. Slide will not update.</option>
                    <!-- Further options will be generated -->
                  </select>
                </div>
                <div class="modal-footer">
                  <button id="edit-slide-save-btn" type="button" class="btn btn-secondary"
                    data-bs-dismiss="modal">Apply</button>
                </div>
              </div>
            </div>
          </div>
          <!-- Input for uploading slides -->
          <div class="input-group">
            <input id="batch-slide-file-input" type="file" class="form-control" aria-label="Browse" value="Browse" multiple>
            <button id="batch-slide-upload-btn" class="btn btn-secondary" type="button">Upload</button>
          </div>

          <div id="uploadTrackerContainer" class="container overflow-auto overflow-div"></div>
        </fieldset>
      </div>
      <!-- Recordings download -->
      <div id="nav-recording" class="tab-pane" role="tabpanel" aria-labelledby="nav-recording-tab">
        <fieldset>
          <legend class="title text-white mt-2">Download</legend>
          <div id="error-alert-file" class="alert alert-danger d-none" role="alert">
            <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Warning:">
              <use xlink:href="#exclamation-triangle-fill" />
            </svg>
            <strong>Please select a file from the options below.</strong>
          </div>
          <field id="progress-field" class="d-none">
            <progress id="progress" value="0"></progress>
            <strong id="progress-text"></strong>
            <strong id="remaining-text"></strong>
          </field>
          <div class="input-group mt-3">
            <select id="list-all-files" class="form-control form-select" required>
              <option selected value="none">None Selected</option>
            </select>
            <button id="recording-download" class="btn btn-secondary" type="button">Download</button>
          </div>
          <a class="btn btn-secondary mt-1" type="button" href="../video-editor/index.html" target="_blank" rel="noreferrer noopener">Open video editor</a>
        </fieldset>
      </div>
      <!-- Configuration upload controls -->
      <div class="tab-pane fade" id="nav-config" role="tabpanel" aria-labelledby="nav-config-tab">
        <fieldset>
          <legend class="title text-white mt-2">Configuration</legend>
          <!-- Input for uploading configuration -->
          <div class="input-group">
            <input id="config-file-input" type="file" class="form-control" aria-label="Browse" value="Browse">
            <button id="config-upload-btn" class="btn btn-secondary" type="button">Upload</button>
          </div>
          <!-- Button to download configuration -->
          <button id="config-download-btn" class="btn btn-primary mt-2" type="button">Download</button>
          <div id="configTrackerContainer" class="container overflow-auto overflow-div"></div>
        </fieldset>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS Bundle -->
  <script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  <script type="application/javascript" src="/node_modules/clipboard/dist/clipboard.min.js"></script>
  <!-- JSon Editor -->
  <script type="application/javascript" src="/node_modules/@json-editor/json-editor/dist/jsoneditor.js"></script>
  <!-- Unity Render Streaming -->
  <script type="text/javascript" src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
  <script src="https://unpkg.com/event-target@latest/min.js"></script>
  <script src="https://unpkg.com/resize-observer-polyfill@1.5.0/dist/ResizeObserver.global.js"></script>
  <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=IntersectionObserver"></script>
  <!-- Control Implementation -->
  <script type="module" src="/operator-controls/js/control-main.js"></script>
  <script type="module" src="/operator-controls/js/control-implementation.js"></script>
</body>

</html>
